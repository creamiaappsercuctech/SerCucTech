<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Indice Link SerCucTech</title>

<style>
body{
  margin:0;
  padding:16px;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
  background:#0e0e11;
  color:#fff;
}

h1{
  text-align:center;
  margin-bottom:12px;
}

input{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:none;
  margin-bottom:16px;
  font-size:1em;
}

.list{
  display:flex;
  flex-direction:column;
  gap:12px;
}

.item{
  background:#1c1c24;
  border-radius:12px;
  padding:12px;
  display:flex;
  gap:12px;
}

.num{
  font-size:1.4em;
  font-weight:bold;
  color:#25d366;
  width:32px;
}

.title{
  font-weight:600;
}

.desc{
  font-size:0.9em;
  opacity:.85;
}

.buttons{
  margin-top:8px;
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}

button{
  border:none;
  border-radius:8px;
  padding:6px 10px;
  font-size:.85em;
}

.open{background:#25d366;color:#000;}
.audio{background:#444;color:#fff;}

.popup{
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  background:#222;
  padding:14px;
  border-radius:14px;
  display:none;
  max-width:90%;
}
</style>
</head>

<body>

<h1>ðŸ“Œ Indice Link SerCucTech</h1>

<input id="search" placeholder="Scrivi cosa devi fareâ€¦ es. numerare oggetti foto">

<div id="list" class="list"></div>

<div id="popup" class="popup"></div>

<script>
/* ===== DATI SICURI ===== */
const LINKS = [
  {
    title: "Vetrina Renzo11",
    url: "vetrina.html?id=renzo11",
    desc: "Apri la vetrina Renzo11, guarda le foto, numeri gli oggetti e ricevi richieste WhatsApp.",
    keywords: "vetrina foto numerare oggetti renzo"
  },
  {
    title: "Admin Vetrine",
    url: "admin.html",
    desc: "Gestisci vetrine, crea nuove schede e carica immagini.",
    keywords: "admin creare modificare vetrine"
  },
  {
    title: "Contatore Oggetti",
    url: "tools/contatore.html",
    desc: "Strumento per mettere numeri manuali sugli oggetti nelle foto.",
    keywords: "contatore numerare oggetti foto"
  }
];

const list = document.getElementById("list");
const popup = document.getElementById("popup");

/* ===== RENDER SEMPRE ===== */
function render(data){
  list.innerHTML = "";
  data.forEach((l,i)=>{
    const el = document.createElement("div");
    el.className="item";
    el.innerHTML = `
      <div class="num">${i+1}</div>
      <div>
        <div class="title">${l.title}</div>
        <div class="desc">${l.desc}</div>
        <div class="buttons">
          <button class="open">Apri</button>
          <button class="audio">ðŸ”Š Spiega</button>
        </div>
      </div>
    `;
    el.querySelector(".open").onclick=()=>location.href=l.url;
    el.querySelector(".audio").onclick=()=>speak(l.desc);
    list.appendChild(el);
  });
}

/* ===== AUDIO SAFE ===== */
function speak(text){
  popup.innerText=text;
  popup.style.display="block";

  if(!window.speechSynthesis){
    setTimeout(()=>popup.style.display="none",3000);
    return;
  }

  speechSynthesis.cancel();
  const u = new SpeechSynthesisUtterance(text);
  u.lang="it-IT";
  u.onend=()=>popup.style.display="none";
  speechSynthesis.speak(u);
}

/* ===== SEARCH ===== */
document.getElementById("search").addEventListener("input",e=>{
  const q=e.target.value.toLowerCase();
  if(!q){ render(LINKS); return; }
  render(LINKS.filter(l=>l.keywords.includes(q)));
});

/* ===== AVVIO ===== */
render(LINKS);
</script>

</body>
</html>
