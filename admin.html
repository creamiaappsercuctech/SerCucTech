<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Admin SerCucTech</title>
  <link rel="stylesheet" href="stile.css?v=3003">
  <style>
    .wrap{padding:14px}
    .gate{max-width:560px; margin:12px auto; border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.04); border-radius:18px; padding:14px}
    .words{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px}
    .wordBtn{padding:12px 14px; border-radius:16px; border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.06); color:#fff; font-weight:900; font-size:16px}
    .row{display:flex; gap:10px; margin-top:10px}
    input{flex:1; padding:12px 14px; border-radius:16px; border:1px solid rgba(255,255,255,.12); background:rgba(0,0,0,.20); color:#fff; font-size:16px}
    .btn{padding:12px 14px; border-radius:16px; border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.06); color:#fff; font-weight:900}
  </style>
</head>
<body>

<header class="topbar">
  <div class="topbar-inner">
    <div class="brandDot" aria-hidden="true"></div>
    <div class="titleWrap">
      <h1 class="pageTitle">ðŸ”’ Accesso Admin</h1>
      <p class="pageDesc">Sblocco con 2 parole in sequenza, poi PIN. Valido 24 ore su questo dispositivo.</p>
    </div>
  </div>
</header>

<main class="wrap">
  <div class="gate" id="gate">
    <div style="font-weight:900">Tocca prima <b>SerCucTech</b> poi <b>qualsiasi</b> (in questâ€™ordine).</div>

    <div class="words">
      <button class="wordBtn" id="w1" type="button">SerCucTech</button>
      <button class="wordBtn" id="w2" type="button">qualsiasi</button>
    </div>

    <div class="row">
      <input id="pin" placeholder="PIN" inputmode="numeric" />
      <button class="btn" id="enter" type="button">Entra</button>
    </div>

    <div style="margin-top:10px; color:rgba(255,255,255,.75); font-size:13px">
      Se non va: cancella cache del sito (Chrome) e ricarica.
    </div>
  </div>

  <div class="gate" id="ok" hidden>
    <div style="font-weight:900; margin-bottom:10px">âœ… Sbloccato</div>
    <div class="row">
      <button class="btn" type="button" onclick="location.href='link.html'">Apri indice link</button>
      <button class="btn" type="button" onclick="location.href='admin.html'">Ricarica</button>
    </div>
    <div style="margin-top:10px; color:rgba(255,255,255,.75); font-size:13px">
      Ora puoi usare la tua pagina admin completa (admin.js).
    </div>
  </div>

  <!-- qui sotto resta la tua UI admin vera -->
  <div id="adminRoot"></div>
</main>

<script>
(function(){
  const KEY = "adminUnlockedUntil";
  const ok = document.getElementById("ok");
  const gate = document.getElementById("gate");
  const w1 = document.getElementById("w1");
  const w2 = document.getElementById("w2");
  const pin = document.getElementById("pin");
  const<!-- BLOCCO FRASE SBLOCCO (VISIBILE + CLICCABILE) -->
<div class="unlockCard" id="unlockCard">
  <div class="unlockTitle">ðŸ”“ Accesso Admin</div>
  <div class="unlockSub">
    Sblocco con <b>2 parole</b> in sequenza, poi PIN. Valido 24 ore su questo dispositivo.
  </div>

  <div class="unlockPhrase" id="unlockPhrase">
    Tocca prima
    <button type="button" class="secretWord" id="w1">SerCucTech</button>
    poi
    <button type="button" class="secretWord" id="w2">qualsiasi</button>
    (in questâ€™ordine).
  </div>

  <div class="unlockStatus" id="unlockStatus">Stato: blocco attivo</div>
</div> enter = document.getElementById("enter");

  // cambia PIN qui se vuoi
  const ADMIN_PIN = "1234";

  let step = 0;

  function isUnlocked(){
    const until = parseInt(localStorage.getItem(KEY)||"0",10);
    return Date.now() < until;
  }
  function setUnlocked24h(){
    localStorage.setItem(KEY, String(Date.now() + 24*60*60*1000));
  }
  function showUnlocked(){
    gate.hidden = true;
    ok.hidden = false;
  }

  if(isUnlocked()){
    showUnlocked();
  }

  w1.addEventListener("click", ()=>{
    step = 1;
    w1.style.opacity = "1";
    w2.style.opacity = "0.7";
  });

  w2.addEventListener("click", ()=>{
    if(step === 1){
      step = 2;
      w2.style.opacity = "1";
    } else {
      step = 0;
      w1.style.opacity = "1";
      w2.style.opacity = "1";
    }
  });

  enter.addEventListener("click", ()=>{
    if(step !== 2){
      alert("Prima tocca le 2 parole in ordine.");
      return;
    }
    if((pin.value||"").trim() !== ADMIN_PIN){
      alert("PIN errato.");
      return;
    }
    setUnlocked24h();
    showUnlocked();
    // dopo sblocco puoi caricare la UI admin completa
    // (se admin.js esiste nel repo)
    const s = document.createElement("script");
    s.src = "admin.js?v=3003";
    document.body.appendChild(s);
  });
})();
</script>

</body>
</html>
