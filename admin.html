<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Admin â€“ SerCucTech</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:system-ui;background:#0f172a;color:#fff;padding:20px}
.card{background:#020617;padding:16px;border-radius:12px;margin-bottom:14px}
input,textarea,button{width:100%;margin:6px 0;padding:10px}
button{background:#2563eb;color:white;border:none;border-radius:8px}
</style>
</head>
<body>

<h2>Pannello Amministratore</h2>

<div class="card">
<h3>Impostazioni Vetrina</h3>
<input id="title" placeholder="Titolo vetrina">
<input type="number" id="titleSize" placeholder="Dimensione titolo (px)" value="32">
<label>Colore titolo</label>
<input type="color" id="titleColor" value="#000000">
<label>Colore sfondo</label>
<input type="color" id="bgColor" value="#ffffff">
<label>Immagine sfondo</label>
<input type="file" id="bgImage" accept="image/*">
<textarea id="description" placeholder="Descrizione vetrina"></textarea>
</div>

<div class="card">
<h3>Caricamento file (immagini / video)</h3>
<input type="file" id="mediaFiles" multiple accept="image/*,video/*">
<button onclick="uploadFiles()">ðŸ“¤ Carica file</button>
<p id="status"></p>
</div>

<button onclick="saveVetrina()">ðŸ’¾ Salva Vetrina</button>

<script>
let uploadedFiles = [];

function uploadFiles(){
  const files = mediaFiles.files;
  if(!files.length){
    alert("Seleziona almeno un file");
    return;
  }

  [...files].forEach(file=>{
    const reader = new FileReader();
    reader.onload = () => {
      uploadedFiles.push({
        name: file.name,
        type: file.type,
        data: reader.result
      });
      status.textContent = uploadedFiles.length + " file caricati";
    };
    reader.readAsDataURL(file);
  });
}

function saveVetrina(){
  if(!title.value){
    alert("Inserisci un titolo");
    return;
  }

  const vetrina = {
    title: title.value,
    titleSize: titleSize.value,
    titleColor: titleColor.value,
    bgColor: bgColor.value,
    description: description.value,
    bgImage: bgImage.files[0]
      ? URL.createObjectURL(bgImage.files[0])
      : null,
    files: uploadedFiles
  };

  localStorage.setItem("sercuctech_vetrina", JSON.stringify(vetrina));
  alert("âœ… Vetrina salvata correttamente");
}
</script>

</body>
</html>
