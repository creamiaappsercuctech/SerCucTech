<!doctype html>
<html lang="auto">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>SerCucTech â€“ Guida passo passo</title>

<style>
body{margin:0;font-family:system-ui;background:#0b1220;color:#e8eefc}
.wrap{max-width:900px;margin:auto;padding:16px}
.card{background:#111b2e;border-radius:16px;padding:14px}
h1{margin:0 0 6px 0}
.mut{color:#a9b8dd}
.btns{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
button{padding:10px 14px;border:0;border-radius:10px;font-weight:700}
.primary{background:#5ee1a2}
.sec{background:#22345f;color:#fff}
.warn{background:#ffcc66}
.item{margin-top:10px;border:1px solid #22345f;border-radius:14px;padding:12px}
.item.cur{outline:2px dashed #5ee1a2}
label{display:flex;gap:6px;align-items:center}
select{padding:6px;border-radius:8px}
</style>
</head>

<body>
<div class="wrap">
<div class="card">
<h1 id="title">Guida passo passo</h1>
<div class="mut" id="subtitle"></div>

<div class="btns">
<button class="primary" id="play">ğŸ”Š</button>
<button class="sec" id="prev">â¬…ï¸</button>
<button class="sec" id="next">â¡ï¸</button>
<button class="warn" id="done">âœ… FATTO</button>
</div>

<div class="btns">
<label><input type="checkbox" id="voiceOn"> Voce</label>
<label><input type="checkbox" id="handsFree"> Mani libere</label>

<select id="mode">
<option value="client">ğŸ‘¶ Cliente</option>
<option value="tech">ğŸ› ï¸ Tecnico</option>
</select>

<select id="lang">
<option value="auto">ğŸŒ Auto</option>
<option value="it">ğŸ‡®ğŸ‡¹ IT</option>
<option value="en">ğŸ‡¬ğŸ‡§ EN</option>
<option value="ua">ğŸ‡ºğŸ‡¦ UA</option>
</select>
</div>

<div class="mut" id="stepLabel"></div>
</div>

<div id="list"></div>
</div>

<script>
/* ================= PARAM ================= */
const vid=new URL(location.href).searchParams.get("id")||"scalvini10";
const KEY="sercuctech_guide_"+vid;

/* ================= LANG ================= */
const SYS_LANG=(navigator.language||"it").slice(0,2);

const T={
it:{
title:"Guida passo passo",
sub:"Segui i passaggi. Premi ascolta se vuoi.",
steps:{
S1:["Entra nellâ€™admin","Apri admin e tocca LUCE poi PORTA"],
S2:["Carica index","Premi: Carica index dal repo"],
S3:["Apri vetrina","Seleziona la vetrina e caricala"],
S4:["Aggiungi PDF","Carica PDF in files e aggiorna JSON"],
S5:["Aggiungi media","Foto e video vanno in media"],
S6:["Riordina","Sistema ordine e salva"],
S7:["OCR","Leggi testo da una foto"],
S8:["Duplica","Crea una copia della vetrina"],
S9:["Controllo","Apri il pubblico e verifica"]
}
},
en:{
title:"Step by step guide",
sub:"Follow the steps. Press listen if needed.",
steps:{
S1:["Enter admin","Open admin and tap LIGHT then DOOR"],
S2:["Load index","Click load index from repo"],
S3:["Open showcase","Select and load showcase"],
S4:["Add PDF","Upload PDF to files and update JSON"],
S5:["Add media","Photos and videos go to media"],
S6:["Reorder","Reorder and save"],
S7:["OCR","Read text from image"],
S8:["Duplicate","Create a copy"],
S9:["Check","Open public page and verify"]
}
},
ua:{
title:"ĞŸĞ¾ĞºÑ€Ğ¾ĞºĞ¾Ğ²Ğ° Ñ–Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ñ–Ñ",
sub:"Ğ”Ğ¾Ñ‚Ñ€Ğ¸Ğ¼ÑƒĞ¹Ñ‚ĞµÑÑŒ ĞºÑ€Ğ¾ĞºÑ–Ğ².",
steps:{
S1:["Ğ£Ğ²Ñ–Ğ¹Ñ‚Ğ¸ Ğ² Ğ°Ğ´Ğ¼Ñ–Ğ½","Ğ’Ñ–Ğ´ĞºÑ€Ğ¸Ğ¹ Ğ°Ğ´Ğ¼Ñ–Ğ½ Ñ– Ğ½Ğ°Ñ‚Ğ¸ÑĞ½Ğ¸ Ğ¡Ğ’Ğ†Ğ¢Ğ›Ğ Ğ¿Ğ¾Ñ‚Ñ–Ğ¼ Ğ”Ğ’Ğ•Ğ Ğ†"],
S2:["Ğ—Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶Ğ¸Ñ‚Ğ¸ index","ĞĞ°Ñ‚Ğ¸ÑĞ½Ğ¸ Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶Ğ¸Ñ‚Ğ¸ index"],
S3:["Ğ’Ñ–Ğ´ĞºÑ€Ğ¸Ñ‚Ğ¸ Ğ²Ñ–Ñ‚Ñ€Ğ¸Ğ½Ñƒ","ĞĞ±ĞµÑ€Ğ¸ Ñ‚Ğ° Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶"],
S4:["Ğ”Ğ¾Ğ´Ğ°Ñ‚Ğ¸ PDF","Ğ—Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ PDF Ñƒ files"],
S5:["Ğ”Ğ¾Ğ´Ğ°Ñ‚Ğ¸ Ğ¼ĞµĞ´Ñ–Ğ°","Ğ¤Ğ¾Ñ‚Ğ¾ Ñ‚Ğ° Ğ²Ñ–Ğ´ĞµĞ¾ Ñƒ media"],
S6:["Ğ’Ğ¿Ğ¾Ñ€ÑĞ´ĞºÑƒĞ²Ğ°Ñ‚Ğ¸","Ğ’Ğ¿Ğ¾Ñ€ÑĞ´ĞºÑƒĞ¹ Ñ‚Ğ° Ğ·Ğ±ĞµÑ€ĞµĞ¶Ğ¸"],
S7:["OCR","Ğ—Ñ‡Ğ¸Ñ‚Ğ°Ñ‚Ğ¸ Ñ‚ĞµĞºÑÑ‚ Ğ· Ñ„Ğ¾Ñ‚Ğ¾"],
S8:["Ğ”ÑƒĞ±Ğ»ÑĞ²Ğ°Ñ‚Ğ¸","Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸ ĞºĞ¾Ğ¿Ñ–Ñ"],
S9:["ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ°","Ğ’Ñ–Ğ´ĞºÑ€Ğ¸Ğ¹ Ğ¿ÑƒĞ±Ğ»Ñ–Ñ‡Ğ½Ñƒ ÑÑ‚Ğ¾Ñ€Ñ–Ğ½ĞºÑƒ"]
}
}
};

/* ================= STATE ================= */
let st=JSON.parse(localStorage.getItem(KEY)||"{}");
st.i=st.i||0;
st.voice=st.voice??true;
st.hands=st.hands??false;
st.mode=st.mode||"client";
st.lang=st.lang||"auto";

/* ================= HELPERS ================= */
function lang(){
if(st.lang!=="auto")return st.lang;
return T[SYS_LANG]?SYS_LANG:"it";
}
function txt(step){
const l=lang();
return T[l].steps[step];
}
function speak(t){
if(!st.voice)return;
speechSynthesis.cancel();
let u=new SpeechSynthesisUtterance(t);
u.lang=lang();
speechSynthesis.speak(u);
}

/* ================= UI ================= */
const steps=["S1","S2","S3","S4","S5","S6","S7","S8","S9"];

function render(){
const l=lang();
title.textContent=T[l].title+" â€“ "+vid;
subtitle.textContent=T[l].sub;

voiceOn.checked=st.voice;
handsFree.checked=st.hands;
mode.value=st.mode;
langSel.value=st.lang;

list.innerHTML="";
steps.forEach((id,i)=>{
const d=document.createElement("div");
d.className="item"+(i===st.i?" cur":"");
const [t,s]=txt(id);
d.innerHTML=`<b>${id}</b> â€“ ${t}<div class="mut">${st.mode==="tech"?s:s}</div>`;
list.appendChild(d);
});
stepLabel.textContent=`STEP ${steps[st.i]}`;
localStorage.setItem(KEY,JSON.stringify(st));
}

play.onclick=()=>speak(txt(steps[st.i])[1]);
next.onclick=()=>{if(st.i<steps.length-1)st.i++;render();if(st.hands)speak(txt(steps[st.i])[1])};
prev.onclick=()=>{if(st.i>0)st.i--;render();if(st.hands)speak(txt(steps[st.i])[1])};
done.onclick=()=>next();

voiceOn.onchange=e=>{st.voice=e.target.checked;render()};
handsFree.onchange=e=>{st.hands=e.target.checked;render()};
mode.onchange=e=>{st.mode=e.target.value;render()};
langSel.onchange=e=>{st.lang=e.target.value;render()};

render();
</script>
</body>
</html>
